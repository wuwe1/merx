# è·¯å¾„æ ‡å‡†è§„èŒƒ

## æ¦‚è¿°
æœ¬è§„èŒƒå®šä¹‰äº† Claude Code PM ç³»ç»Ÿä¸­æ–‡ä»¶è·¯å¾„ä½¿ç”¨æ ‡å‡†ï¼Œä»¥ç¡®ä¿æ–‡æ¡£çš„å¯ç§»æ¤æ€§ã€éšç§ä¿æŠ¤å’Œä¸€è‡´æ€§ã€‚

## æ ¸å¿ƒåŸåˆ™

### 1. éšç§ä¿æŠ¤
- **ç¦æ­¢**åŒ…å«ç”¨æˆ·åçš„ç»å¯¹è·¯å¾„
- **ç¦æ­¢**åœ¨å…¬å…±æ–‡æ¡£ä¸­æš´éœ²æœ¬åœ°ç›®å½•ç»“æ„
- **ç¦æ­¢**åœ¨ GitHub Issue è¯„è®ºä¸­åŒ…å«å®Œæ•´çš„æœ¬åœ°è·¯å¾„

### 2. å¯ç§»æ¤æ€§åŸåˆ™
- **ä¼˜å…ˆ**ä½¿ç”¨ç›¸å¯¹è·¯å¾„å¼•ç”¨é¡¹ç›®æ–‡ä»¶
- **ç¡®ä¿**æ–‡æ¡£åœ¨ä¸åŒå¼€å‘ç¯å¢ƒä¸­éƒ½èƒ½å·¥ä½œ
- **é¿å…**ç‰¹å®šäºç¯å¢ƒçš„è·¯å¾„æ ¼å¼

## è·¯å¾„æ ¼å¼æ ‡å‡†

### é¡¹ç›®æ–‡ä»¶å¼•ç”¨ âœ…
```markdown
# æ­£ç¡®ç¤ºä¾‹
- `internal/auth/server.go`
- `cmd/server/main.go`
- `.claude/commands/pm/sync.md`

# é”™è¯¯ç¤ºä¾‹ âŒ
- `/Users/username/project/internal/auth/server.go`
- `C:\Users\username\project\cmd\server\main.go`
```

### è·¨é¡¹ç›®/Worktree å¼•ç”¨ âœ…
```markdown
# æ­£ç¡®ç¤ºä¾‹
- `../project-name/internal/auth/server.go`
- `../worktree-name/src/components/Button.tsx`

# é”™è¯¯ç¤ºä¾‹ âŒ
- `/Users/username/parent-dir/project-name/internal/auth/server.go`
- `/home/user/projects/worktree-name/src/components/Button.tsx`
```

### ä»£ç æ³¨é‡Šæ–‡ä»¶å¼•ç”¨ âœ…
```go
// æ­£ç¡®ç¤ºä¾‹
// See internal/processor/converter.go for data transformation
// Configuration loaded from configs/production.yml

// é”™è¯¯ç¤ºä¾‹ âŒ
// See /Users/username/parent-dir/project-name/internal/processor/converter.go
```

## å®ç°è§„åˆ™

### æ–‡æ¡£ç”Ÿæˆè§„åˆ™
1. **Issue åŒæ­¥æ¨¡æ¿**ï¼šä½¿ç”¨ç›¸å¯¹è·¯å¾„æ¨¡æ¿å˜é‡
2. **è¿›åº¦æŠ¥å‘Š**ï¼šè‡ªåŠ¨å°†ç»å¯¹è·¯å¾„è½¬æ¢ä¸ºç›¸å¯¹è·¯å¾„
3. **æŠ€æœ¯æ–‡æ¡£**ï¼šä¸€è‡´åœ°ä½¿ç”¨é¡¹ç›®æ ¹ç›®å½•ç›¸å¯¹è·¯å¾„

### è·¯å¾„å˜é‡æ ‡å‡†
```yaml
# æ¨¡æ¿å˜é‡å®šä¹‰
project_root: "."              # å½“å‰é¡¹ç›®æ ¹ç›®å½•
worktree_path: "../{name}"     # Worktree ç›¸å¯¹è·¯å¾„
internal_path: "internal/"     # å†…éƒ¨æ¨¡å—ç›®å½•
config_path: "configs/"        # é…ç½®æ–‡ä»¶ç›®å½•
```

### è‡ªåŠ¨æ¸…ç†è§„åˆ™
```bash
# è·¯å¾„è§„èŒƒåŒ–å‡½æ•°
normalize_paths() {
  local content="$1"
  # åˆ é™¤ç”¨æˆ·ç‰¹å®šè·¯å¾„ï¼ˆé€šç”¨æ¨¡å¼ï¼‰
  content=$(echo "$content" | sed "s|/Users/[^/]*/[^/]*/|../|g")
  content=$(echo "$content" | sed "s|/home/[^/]*/[^/]*/|../|g")
  content=$(echo "$content" | sed "s|C:\\\\Users\\\\[^\\\\]*\\\\[^\\\\]*\\\\|..\\\\|g")
  echo "$content"
}
```

## PM å‘½ä»¤é›†æˆ

### issue-sync å‘½ä»¤æ›´æ–°
- åŒæ­¥å‰è‡ªåŠ¨æ¸…ç†è·¯å¾„æ ¼å¼
- ä½¿ç”¨ç›¸å¯¹è·¯å¾„æ¨¡æ¿ç”Ÿæˆè¯„è®º
- ä½¿ç”¨æ ‡å‡†åŒ–è·¯å¾„è®°å½•äº¤ä»˜ç‰©

### epic-sync å‘½ä»¤æ›´æ–°
- æ ‡å‡†åŒ–ä»»åŠ¡æ–‡ä»¶è·¯å¾„
- æ¸…ç† GitHub issue æ­£æ–‡è·¯å¾„
- åœ¨æ˜ å°„æ–‡ä»¶ä¸­ä½¿ç”¨ç›¸å¯¹è·¯å¾„

## éªŒè¯æ£€æŸ¥

### è‡ªåŠ¨æ£€æŸ¥è„šæœ¬
```bash
# æ£€æŸ¥ç»å¯¹è·¯å¾„è¿è§„
check_absolute_paths() {
  echo "æ­£åœ¨æ£€æŸ¥ç»å¯¹è·¯å¾„è¿è§„..."
  rg -n "/Users/|/home/|C:\\\\\\\\" .claude/ || echo "âœ… æœªå‘ç°ç»å¯¹è·¯å¾„"
}

# æ£€æŸ¥ GitHub åŒæ­¥å†…å®¹
check_sync_content() {
  echo "æ­£åœ¨æ£€æŸ¥åŒæ­¥å†…å®¹è·¯å¾„æ ¼å¼..."
  # å®ç°å…·ä½“çš„æ£€æŸ¥é€»è¾‘
}
```

### æ‰‹åŠ¨å®¡æŸ¥æ¸…å•
- [ ] GitHub Issue è¯„è®ºä¸åŒ…å«ç»å¯¹è·¯å¾„
- [ ] æœ¬åœ°æ–‡æ¡£ä¸€è‡´åœ°ä½¿ç”¨ç›¸å¯¹è·¯å¾„
- [ ] ä»£ç æ³¨é‡Šè·¯å¾„éµå¾ªæ ‡å‡†
- [ ] é…ç½®æ–‡ä»¶è·¯å¾„å·²æ ‡å‡†åŒ–

## é”™è¯¯å¤„ç†

### å½“å‘ç°ç»å¯¹è·¯å¾„æ—¶
1. **ç«‹å³è¡ŒåŠ¨**ï¼šæ¸…ç†å·²å‘å¸ƒçš„å…¬å¼€å†…å®¹
2. **æ‰¹é‡ä¿®å¤**ï¼šæ›´æ–°æœ¬åœ°æ–‡æ¡£æ ¼å¼
3. **é¢„é˜²**ï¼šæ›´æ–°ç”Ÿæˆæ¨¡æ¿

### ç´§æ€¥ç¨‹åº
å¦‚æœéšç§ä¿¡æ¯å·²è¢«æ³„éœ²ï¼š
1. ç«‹å³ç¼–è¾‘ GitHub Issues/è¯„è®º
2. å¦‚æœ‰å¿…è¦ï¼Œæ¸…ç† Git å†å²
3. æ›´æ–°ç›¸å…³æ–‡æ¡£å’Œæ¨¡æ¿
4. å»ºç«‹ç›‘æ§ä»¥é˜²æ­¢å†æ¬¡å‘ç”Ÿ

## ç¤ºä¾‹å¯¹æ¯”

### æ–‡æ¡£ä¹‹å‰/ä¹‹å
```markdown
# ä¹‹å‰ âŒ
- âœ… å®ç°äº† `/Users/username/parent-dir/project-name/internal/auth/server.go` æ ¸å¿ƒé€»è¾‘

# ä¹‹å âœ…
- âœ… å®ç°äº† `../project-name/internal/auth/server.go` æ ¸å¿ƒé€»è¾‘
```

### GitHub è¯„è®ºæ ¼å¼
```markdown
# æ­£ç¡®æ ¼å¼ âœ…
## ğŸ“¦ äº¤ä»˜ç‰©
- `internal/formatter/batch.go` - æ‰¹å¤„ç†æ ¼å¼åŒ–å™¨
- `internal/processor/sorter.go` - æ’åºç®—æ³•
- `cmd/server/main.go` - æœåŠ¡å™¨å…¥å£ç‚¹

# é”™è¯¯æ ¼å¼ âŒ
## ğŸ“¦ äº¤ä»˜ç‰©
- `/Users/username/parent-dir/project-name/internal/formatter/batch.go`
```

æœ¬è§„èŒƒç¡®ä¿é¡¹ç›®æ–‡æ¡£ä¿æŒä¸“ä¸šæ€§ã€å¯ç§»æ¤æ€§å’Œéšç§å®‰å…¨ã€‚