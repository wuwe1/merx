---
name: 实现 ASCII 渲染
status: done
created: 2026-02-04T08:11:54Z
updated: 2026-02-09T05:15:15Z
github: https://github.com/wuwe1/merx/issues/15
depends_on: [13]
parallel: false
conflicts_with: [14]
---

# Task: 实现 ASCII 渲染

## 描述

将 `src/commands/render.ts` 中的 ASCII 占位符替换为真正的 `renderMermaidAscii()` API 调用。

## 验收标准

- [ ] 导入 `renderMermaidAscii` from 'beautiful-mermaid'
- [ ] `--ascii` 模式调用 `renderMermaidAscii(content)` 生成 ASCII
- [ ] 批量模式同样使用真实 API
- [ ] `echo "graph LR; A-->B" | merx render --ascii` 输出包含 box 字符
- [ ] 输出不是原样返回输入内容

## 技术细节

### 修改位置
`src/commands/render.ts` 中的两处 ASCII 占位符：

1. **批量模式**
```typescript
// 替换前
result = `[ASCII placeholder]\n${content}\n`

// 替换后
result = renderMermaidAscii(content)
```

2. **单文件模式**
```typescript
// 同样替换为 renderMermaidAscii 调用
```

### 测试命令
```bash
npm run build
echo "graph LR; A-->B" | node dist/cli.mjs render --ascii
# 应该输出带有 box-drawing 字符的 ASCII 图表
# 例如：┌───┐    ┌───┐
#       │ A │───▶│ B │
#       └───┘    └───┘
```

## 工作量估算

- 规模：S
- 小时数：0.5
- 并行：false

## 完成定义

- [ ] 代码已修改
- [ ] 构建成功
- [ ] ASCII 输出包含 box 字符
- [ ] 输出不是原样输入
